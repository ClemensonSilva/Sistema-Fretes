<%# app/views/fretes/_tabela_fretes.html.erb %>

<% if @fretes.any? %>
  <table class="table table-striped table-bordered">
    <thead class="thead-dark">
    <tr>
      <th>Veículo</th>
      <th>Motorista</th>
      <th>Preço</th>
      <th>Status</th>
      <th>Ações</th>

    </tr>
    </thead>
    <tbody>
    <% @fretes.each do |frete| %>
      <tr>
        <td><%= placa_modelo(frete.veiculo) || "N/A" %></td>
        <td><%= frete.funcionario&.nome || "N/A" %></td>
        <td><%= number_to_currency(frete.preco, unit: "R$", separator: ",", delimiter: ".") %></td>
        <td>
          <%= frete_status_texto(frete.status) %> <%# Helper para exibir status de forma amigável %>
        </td>
        <td>
          <%= link_to 'Detalhar', frete_detalhes_path(frete), class: 'btn btn-sm btn-success mt-1' %>
        </td>

      </tr>
    <% end %>
    </tbody>
  </table>
<% else %>
  <div class="alert alert-info" role="alert">
    Nenhum frete sob sua supervisão.
  </div>
<% end %>