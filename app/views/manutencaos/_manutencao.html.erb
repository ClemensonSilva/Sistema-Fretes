<div class="card shadow-sm mb-4">
  <div class="card-header bg-gradient-primary text-white d-flex justify-content-between align-items-center">
    <h4 class="mb-0">Detalhes da Manutenção <span class="badge bg-light text-primary ms-2">#<%= @manutencao.id %></span></h4>
  </div>
  <div class="card-body">
    <h5 class="card-title text-primary mb-3"><i class="bi bi-tools me-2"></i>Manutenção <span class="<%= tipo_manutencao_cor_classe(@manutencao.tipo) %> fw-bold"><%= @manutencao.tipo %></span></h5>
    <div class="row g-3 mb-4">
      <div class="col-md-6">
        <div class="detail-item">
          <strong><i class="bi bi-car-front-fill me-2"></i>Veículo:</strong>
          <span class="text-muted">
            <% if @manutencao.veiculo.present? %>
              <%= @manutencao.veiculo.placa %> - <%= @manutencao.veiculo.modelo %>
            <% else %>
              <em class="text-warning">Não atribuído</em>
            <% end %>
          </span>
        </div>
      </div>
      <div class="col-md-6">
        <div class="detail-item">
          <strong><i class="bi bi-shop me-2"></i>Oficina:</strong>
          <span class="text-muted">
            <% if @manutencao.oficina.present? %>
              <%= @manutencao.oficina %>
            <% else %>
              <em class="text-warning">Não informada</em>
            <% end %>
          </span>
        </div>
      </div>
    </div>

    <hr class="my-4">

    <div class="row g-3 mb-4">
      <div class="col-md-6">
        <div class="detail-item">
          <strong><i class="bi bi-calendar-check-fill me-2"></i>Data Agendada:</strong>
          <span class="text-muted">
            <% if @manutencao.data_agendada.present? %>
              <%= l(@manutencao.data_agendada) %>
            <% else %>
              <em class="text-info">Aguardando agendamento</em>
            <% end %>
          </span>
        </div>
      </div>
      <div class="col-md-6">
        <div class="detail-item">
          <strong><i class="bi bi-calendar-check me-2"></i>Data de Entrega:</strong>
          <span class="text-muted">
            <% if @manutencao.data_entrega_veiculo.present? %>
              <%= l(@manutencao.data_entrega_veiculo) %>
            <% else %>
              <em class="text-info">Ainda não entregue</em>
            <% end %>
          </span>
        </div>
      </div>
      <div class="col-12">
        <div class="detail-item">
          <strong><i class="bi bi-cash-coin me-2"></i>Custo Estimado:</strong>
          <span class="text-success fw-bold fs-5">
            <% if @manutencao.custo.present? %>
              <%= number_to_currency(@manutencao.custo, unit: "R$", separator: ",", delimiter: ".") %>
            <% else %>
              <em class="text-info">Custo pendente</em>
            <% end %>
          </span>
        </div>
      </div>
    </div>

    <hr class="my-4">

    <div class="detail-item mb-3">
      <strong><i class="bi bi-card-text me-2"></i>Descrição:</strong>
      <p class="text-muted mt-2"><%= @manutencao.descricao.presence || '<em class="text-info">Nenhuma descrição fornecida.</em>'.html_safe %></p>
    </div>

    <hr class="my-4">

    <div class="row g-3 text-sm text-muted">
      <div class="col-md-6">
        <div class="detail-item">
          <strong><i class="bi bi-clock-fill me-2"></i>Criado em:</strong>
          <%= l(@manutencao.created_at, format: :short) %>
        </div>
      </div>
      <div class="col-md-6">
        <div class="detail-item">
          <strong><i class="bi bi-arrow-clockwise me-2"></i>Última atualização:</strong>
          <%= l(@manutencao.updated_at, format: :short) %>
        </div>
      </div>
    </div>

  </div>
  <div class="card-footer bg-light d-flex justify-content-end">
    <%= botoes_aplicacao(lista_manutencoes_path, "Voltar") %>
  </div>
</div>

<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">

<style>
    .detail-item {
        margin-bottom: 0.75rem; /* Espaçamento entre os itens de detalhe */
    }
    .detail-item strong {
        min-width: 150px; /* Garante alinhamento para os rótulos */
        display: inline-block;
    }
    .bg-gradient-primary {
        background: linear-gradient(45deg, #007bff, #0056b3) !important; /* Gradiente para o cabeçalho */
    }
</style>